:root{--chart-bg:#ffffff;--chart-border:#e5e7eb;--chart-border-radius:12px;--chart-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1),0 2px 4px -1px rgba(0, 0, 0, 0.06);--chart-title-color:#FE0000;--font-family-primary:'TBL-2',Arial,Helvetica,sans-serif;--chart-padding:20px;--chart-gap:30px;--chart-height:300px;--stats-animation-duration:300ms;--stats-success-color:#10b981;--stats-error-color:#ef4444}.charts-section{margin:30px 0}.charts-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;margin:20px 0}.status-cards-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-bottom:25px}.chart-container{background:var(--chart-bg);border-radius:var(--chart-border-radius);padding:20px;box-shadow:var(--chart-shadow);border:1px solid var(--chart-border)}.chart-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.chart-header h3{color:var(--chart-title-color);font-family:var(--font-family-primary);text-transform:uppercase;font-size:1.2rem;font-weight:700}.chart-controls{display:flex;align-items:center}.chart-wrapper{display:flex;flex-direction:column;min-height:300px;position:relative}.chart-canvas-container{height:300px;display:flex;justify-content:center;align-items:center;margin-bottom:15px}.chart-legend{display:grid;grid-template-columns:repeat(3,1fr);gap:12px 20px;padding:15px;background:rgba(255,255,255,.9);border-radius:8px;margin-top:15px;justify-content:center;align-items:center;max-width:600px;margin-left:auto;margin-right:auto}.chart-legend .legend-item{display:flex;align-items:center;gap:8px;white-space:nowrap;flex-shrink:0}.chart-legend .legend-color{width:16px;height:16px;border-radius:3px;border:none;flex-shrink:0}.chart-legend .legend-label{font-weight:700;text-transform:uppercase;font-size:.85rem;color:var(--text-primary);font-family:var(--font-family-primary)}.chart-legend .legend-value{font-weight:400;color:var(--text-secondary);font-size:.8rem}.chart-legend .legend-percentage{font-size:.8rem;color:var(--text-secondary);margin-left:4px}@media (max-width:768px){.chart-legend{grid-template-columns:repeat(2,1fr);gap:10px 15px;max-width:400px}}@media (max-width:480px){.chart-legend{grid-template-columns:1fr;gap:8px;max-width:300px}}@media only screen and (max-width:1200px){.charts-grid{grid-template-columns:repeat(2,1fr);gap:20px}.status-cards-grid{grid-template-columns:repeat(2,1fr);gap:15px}}@media only screen and (max-width:899px){.charts-grid{grid-template-columns:1fr;gap:15px}.status-cards-grid{grid-template-columns:1fr;gap:10px}.chart-canvas-container{height:250px}}:root{--chart-bg:#ffffff;--chart-border:#e0e0e0;--chart-shadow:0 4px 8px rgba(0, 0, 0, 0.1);--chart-title-color:#FE0000;--chart-padding:20px;--chart-margin:30px;--chart-gap:15px;--chart-height:300px;--chart-border-radius:12px}.chart-container{background:var(--chart-bg);border-radius:var(--chart-border-radius);padding:var(--chart-padding);box-shadow:var(--chart-shadow);border:1px solid var(--chart-border);position:relative}.chart-container h3{margin:0 0 15px;color:var(--chart-title-color);font-family:var(--font-family-primary);text-transform:uppercase;font-size:1.1rem;text-align:center;border-bottom:2px solid var(--chart-title-color);padding-bottom:8px}.chart-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--chart-gap);flex-wrap:wrap;gap:var(--chart-gap)}.chart-header h3{margin:0;flex:1;text-align:left}.chart-controls{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.chart-controls button{background:var(--bg-primary);border:1px solid var(--border-primary);border-radius:4px;padding:6px 12px;cursor:pointer;transition:all var(--transition-normal);font-family:var(--font-family-primary);font-size:.8rem;color:var(--text-primary)}.chart-controls button:hover{background:var(--hover-bg);border-color:var(--brand-red);color:var(--brand-red)}.chart-controls button:disabled{opacity:.5;cursor:not-allowed}.chart-wrapper{display:flex;flex-direction:column;align-items:center;gap:var(--chart-gap)}.chart-canvas-container{width:100%;height:var(--chart-height);display:flex;justify-content:center;align-items:center}.chart-canvas-container canvas{max-width:100%;max-height:100%}.legend-color{width:14px;height:14px;border-radius:3px;border:none}.legend-label{font-weight:700;text-transform:uppercase;font-size:.8rem;font-family:var(--font-family-primary)}.legend-value{font-weight:400;color:#666;font-size:.75rem}.legend-percentage{font-size:.8rem;color:#666;margin-left:.25rem}.pie-chart-container{display:flex;justify-content:center;margin:20px 0;position:relative;height:var(--chart-height)}.pie-chart-wrapper{position:relative;width:var(--chart-height);height:var(--chart-height)}.bar-chart-container{position:relative;height:auto;min-height:var(--chart-height);margin:0}.scatter-chart-container{position:relative;margin:0;overflow:hidden;z-index:1;flex:1;display:flex;flex-direction:column;padding:0;box-sizing:border-box;min-height:var(--chart-height);height:auto}.scatter-chart-container .chart-wrapper{display:flex;flex-direction:column;flex:1;padding:0 20px;margin:0;min-height:0}.scatter-chart-container .chart-canvas-container{flex:1;display:flex;justify-content:center;align-items:center;min-height:300px;height:auto}.scatter-chart-container canvas{max-width:100%;max-height:100%;width:100%;height:auto}.scatter-chart-container .chart-header{padding:20px 20px 10px;margin:0}.scatter-chart-container .chart-filters{padding:0 20px 10px;margin:0}.legend-tooltip{position:fixed!important;background:var(--tooltip-background)!important;color:var(--tooltip-text-color)!important;padding:var(--tooltip-padding)!important;border-radius:var(--tooltip-border-radius)!important;font-size:var(--tooltip-font-size)!important;font-family:var(--tooltip-font-family)!important;white-space:nowrap!important;z-index:var(--tooltip-z-index)!important;opacity:0;pointer-events:none!important;transition:opacity .3s!important;transform:translateX(-50%)!important;margin-top:-8px!important;box-shadow:var(--tooltip-box-shadow)!important;border:var(--tooltip-border-width) solid var(--tooltip-border-color)!important;isolation:isolate!important}.legend-tooltip div{margin-bottom:4px;line-height:1.4}.legend-tooltip div:last-child{margin-bottom:0}.legend-tooltip strong{color:#fe0000}.similarity-section{grid-column:1/-1;margin-top:15px;padding:12px;background:rgba(254,0,0,.05);border:1px solid rgba(254,0,0,.2);border-radius:8px;text-align:center;transition:.3s}.similarity-section:hover{background:rgba(254,0,0,.08);border-color:rgba(254,0,0,.3)}.similarity-section .similarity-title{font-family:TBL-2,monospace;font-weight:700;color:#fe0000;font-size:14px;margin-bottom:8px;text-transform:uppercase;letter-spacing:.5px}.similarity-section .similarity-content{font-family:TBL-2,monospace;font-size:13px;color:#333;line-height:1.4}.similarity-section .similarity-content div{margin-bottom:4px}.similarity-section .similarity-content strong{color:#fe0000;font-weight:600}.similarity-section .matching-individuals{margin-top:8px;font-size:11px;color:#666;font-style:italic;max-height:60px;overflow-y:auto;padding:4px;background:rgba(255,255,255,.5);border-radius:4px}.chart-modal{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:9999;background:rgba(0,0,0,.8);display:none;align-items:center;justify-content:center;padding:20px;box-sizing:border-box}.chart-modal.active{display:flex}.chart-modal-content{background:var(--chart-bg);border-radius:var(--chart-border-radius);box-shadow:0 8px 32px rgba(0,0,0,.3);border:2px solid var(--brand-red);width:90vw;height:90vh;max-width:1200px;max-height:800px;position:relative;display:flex;flex-direction:column;overflow:hidden}.chart-modal-header{background:var(--chart-bg);border-bottom:2px solid var(--brand-red);display:flex;justify-content:space-between;align-items:center;z-index:10000;flex-shrink:0}.chart-modal-header h3{margin:0;color:var(--chart-title-color);font-family:var(--font-family-primary);text-transform:uppercase;font-size:1.2rem;font-weight:700;flex:1}.chart-modal-header .chart-controls{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.chart-modal-close{position:absolute;top:15px;right:15px;background:var(--brand-red);color:#fff;border:none;border-radius:50%;width:40px;height:40px;font-size:20px;font-weight:700;cursor:pointer;z-index:10001;display:flex;align-items:center;justify-content:center;transition:all var(--transition-normal)}.chart-modal-close:hover{background:#c00;transform:scale(1.1)}body.chart-modal-open{overflow:hidden}.chart-modal-chart{flex:1;display:flex;flex-direction:column;height:100%;overflow:hidden}.chart-modal-chart .chart-header{flex-shrink:0;margin-bottom:15px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px}.chart-modal-chart .chart-header h3{margin:0;flex:1;text-align:left;color:var(--chart-title-color);font-family:var(--font-family-primary);text-transform:uppercase;font-size:1.2rem;border-bottom:2px solid var(--chart-title-color);padding-bottom:8px}.chart-modal-chart .chart-controls{display:flex;align-items:center;gap:8px;flex-wrap:wrap;padding:0 10px;margin:0;max-width:100%;overflow:visible}.chart-modal-chart .chart-controls button{min-width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:var(--bg-primary);border:1px solid var(--border-primary);border-radius:4px;cursor:pointer;transition:all var(--transition-normal);font-family:var(--font-family-primary);font-size:.8rem;color:var(--text-primary);flex-shrink:0;padding:6px}.chart-modal-chart .chart-controls button:hover{background:var(--hover-bg);border-color:var(--brand-red);color:var(--brand-red)}.chart-modal-chart .chart-wrapper{flex:1;display:flex;flex-direction:column;min-height:0}.chart-modal-chart .chart-canvas-container{flex:1;min-height:0;display:flex;justify-content:center;align-items:center}.chart-modal-chart .chart-modal-chart .legend-item{display:flex;align-items:center;gap:6px;white-space:nowrap;flex-shrink:0}.chart-modal-chart .legend-color{flex-shrink:0;width:12px;height:12px;border-radius:2px;border:none}.chart-modal-chart .legend-label{flex-shrink:0;font-size:.8rem;font-weight:700;text-transform:uppercase;font-family:var(--font-family-primary)}.chart-modal-chart .chart-legend{display:grid;grid-template-columns:repeat(3,1fr);gap:12px 20px;padding:15px;background:rgba(255,255,255,.9);border-radius:8px;margin-top:15px;justify-content:center;align-items:center;max-width:600px;margin-left:auto;margin-right:auto}.chart-modal-chart .legend-item{display:flex;align-items:center;gap:6px;white-space:nowrap;flex-shrink:0;padding:4px 8px;border-radius:4px;cursor:pointer;transition:background-color .2s}.chart-modal-chart .legend-item:hover{background-color:rgba(254,0,0,.1)}.chart-modal-chart .scatter-chart-container .stats-cards-container{position:relative}@keyframes refreshSpin{from{transform:rotate(0)}to{transform:rotate(360deg)}}.chart-container.loading .chart-controls{opacity:.5;pointer-events:none}.chart-container.loading .chart-controls *{cursor:not-allowed}.chart-loading-spinner{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(255,255,255,.9);padding:20px;border-radius:8px;box-shadow:none;z-index:10}.chart-filters{display:flex;align-items:center;gap:10px;flex-wrap:wrap;margin-bottom:var(--chart-gap)}.filter-select{background:#fff;border:1px solid #e9ecef;border-radius:4px;padding:4px 8px;font-family:var(--font-family-primary);font-size:.8rem;color:#333;cursor:pointer;min-width:120px}.filter-select:focus{outline:0;border-color:var(--brand-red);box-shadow:0 0 0 2px rgba(254,0,0,.1)}@media only screen and (max-width:1200px){.charts-grid{grid-template-columns:1fr;gap:20px}.chart-container h3{margin:0 0 15px;color:#fe0000;font-family:TBL-2,Arial,Helvetica,sans-serif;text-transform:uppercase;font-size:1.1rem;text-align:center;border-bottom:2px solid #fe0000;padding-bottom:8px}.chart-container{background:#fff;border-radius:12px;padding:15px;box-shadow:0 4px 8px rgba(0,0,0,.1);border:1px solid #e0e0e0;position:relative}.chart-header h3{flex:1}.chart-header{padding:20px 20px 10px;margin:0 0 15px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px}.chart-header h3{margin:0;flex:1;text-align:left;color:#fe0000;font-family:TBL-2,Arial,Helvetica,sans-serif;text-transform:uppercase;font-size:1.1rem;letter-spacing:1px}.chart-header h3){display:none!important;visibility:hidden!important;opacity:0!important;height:0!important;width:0!important;overflow:hidden!important;margin:0!important;padding:0!important;border:none!important;background:0 0!important}.chart-header):not(.chart-filters):not(.chart-wrapper):not(.chart-legend){display:none!important}.chart-controls{align-items:center}.chart-controls button{background:#f8f9fa;border:1px solid #dee2e6;color:#495057;border-radius:4px;font-size:.9rem;cursor:pointer;transition:.2s;font-family:TBL-2,Arial,Helvetica,sans-serif;display:flex;align-items:center;justify-content:center}.chart-controls button:hover{background:#e9ecef;border-color:#adb5bd}.chart-controls button:active{transform:translateY(0)}.chart-controls,.chart-loading-spinner~.chart-controls *{display:none!important}.chart-controls{display:flex;align-items:center;gap:8px;flex-wrap:wrap;gap:6px}.chart-controls button{display:flex;align-items:center;justify-content:center;min-width:32px;height:32px;padding:6px}.chart-controls button svg{width:14px;height:14px}.chart-wrapper{display:flex;flex-direction:column;align-items:center;gap:15px;display:flex;flex-direction:column;height:calc(100% - 80px)}.chart-wrapper){display:none!important}.chart-wrapper{display:flex;flex-direction:column;flex:1;padding:0 20px;margin:0}.chart-canvas-container{width:100%;height:300px!important;display:flex;justify-content:center;align-items:center;overflow:hidden;z-index:1;min-height:300px!important;max-height:300px!important;flex:1;flex:1;position:relative}.chart-canvas-container canvas{max-width:100%;max-height:100%}}