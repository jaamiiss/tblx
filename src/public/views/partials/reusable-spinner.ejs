<div id="<%= typeof id !== 'undefined' ? id : 'spinner' %>" class="htmx-indicator reusable-spinner">
  <div style="display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 8px;">
    <%
    // Get parameters with defaults
    const spinnerId = typeof id !== 'undefined' ? id : 'spinner';
    const spinnerText = typeof text !== 'undefined' ? text : 'Loading...';
    const spinnerSize = typeof size !== 'undefined' ? size : 'medium';
    const spinnerColor = typeof color !== 'undefined' ? color : 'red';
    
    // Size configurations
    const sizeConfigs = {
      small: { spinner: '16px', text: '10px' },
      medium: { spinner: '24px', text: '12px' },
      large: { spinner: '32px', text: '14px' }
    };
    
    // Color configurations
    const colorConfigs = {
      red: '#FE0000',
      blue: '#0066CC',
      green: '#00AA00'
    };
    
    const currentSize = sizeConfigs[spinnerSize] || sizeConfigs.medium;
    const currentColor = colorConfigs[spinnerColor] || colorConfigs.red;
    %>
    <div style="width: <%= currentSize.spinner %>; height: <%= currentSize.spinner %>; border: 2px solid <%= currentColor %>20; border-top: 2px solid <%= currentColor %>; border-radius: 50%; animation: spin 1s linear infinite;"></div>
    <div style="color: <%= currentColor %>; font-family: 'TBL-2', Arial, Helvetica, sans-serif; font-size: <%= currentSize.text %>; font-weight: 600; text-transform: uppercase; letter-spacing: 1px;"><%= spinnerText %></div>
  </div>
</div>