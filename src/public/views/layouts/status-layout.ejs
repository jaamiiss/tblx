<%- include('../partials/head', { 
  title: title,
  includeDemoManager: true,
  includeListCSS: true,
  includeItemRenderer: true,
  includeStatusCSS: true
}) %>
<body>
  <header class="main-header">
    <h1>
      <a class="link" href="/" id="main-title">THE BLACKLIST</a>
    </h1>
    <div class="confidential-stamp">HIGHLY CONFIDENTIAL</div>
  </header>
  
  <!-- Demo Banner -->
  <%- include('../partials/demo-banner') %>
  
  <!-- Reusable List Components -->
  <%- include('../partials/list-components', {
    status: status,
    hideToggleButtons: false,
    activeTab: 'status'
  }) %>
  
  <div class="list-container">
    <div class="status-header">
      <div class="status-title"><%= (status || 'unknown').charAt(0).toUpperCase() + (status || 'unknown').slice(1) %></div>
      <div class="status-subtitle">Filtered list of individuals with <%= status || 'unknown' %> status</div>
    </div>
    
    <div class="legend-tabs">
      <a href="/list/deceased" class="legend-tab <%= status === 'deceased' ? 'active' : '' %>" hx-boost="true">Deceased</a>
      <a href="/list/active" class="legend-tab <%= status === 'active' ? 'active' : '' %>" hx-boost="true">Active</a>
      <a href="/list/incarcerated" class="legend-tab <%= status === 'incarcerated' ? 'active' : '' %>" hx-boost="true">Incarcerated</a>
      <a href="/list/redacted" class="legend-tab <%= status === 'redacted' ? 'active' : '' %>" hx-boost="true">Redacted</a>
      <a href="/list/unknown" class="legend-tab <%= status === 'unknown' ? 'active' : '' %>" hx-boost="true">Unknown</a>
      <a href="/list/captured" class="legend-tab <%= status === 'captured' ? 'active' : '' %>" hx-boost="true">Captured</a>
    </div>
    
    <div class="legend-section active" id="statusSection">
      <div class="legend-items" id="statusItems" 
           role="list"
           aria-label="Status items"
           hx-get="/status/<%= status || 'unknown' %>" 
           hx-trigger="load" 
           hx-indicator="#statusSpinner"
           hx-swap="none"
           style="position: relative; min-height: 200px;">
        
        <!-- Status Loading Spinner -->
        <%- include('../partials/reusable-spinner', { 
          id: 'statusSpinner', 
          text: 'Loading status items...',
          size: 'medium',
          color: 'red'
        }) %>
        
        <!-- Status items will be loaded here -->
      </div>
    </div>
  </div>

  <!-- Enhanced Common Scripts -->
  <%- include('../partials/enhanced-common-scripts') %>
  
  <!-- Status-Specific Scripts -->
  <%- include('../partials/status-specific-scripts') %>
</body>
</html>
