<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>The Blacklist | Admin</title>
    <meta name="description" content="HTMX, Express, & Firestore"/>            
    <link rel="icon" href="/htmx-tbl/public/assets/favicon.ico" />
    <meta name='viewport' content='width=device-width, initial-scale=1'>
</head>
<body>
  <h1>The Blacklist - Admin</h1>
    <form id="addForm">
        <label for="guide">Guide:</label>
        <input type="text" name="guide" id="guide">
        <br>
        <label for="order">Order:</label>
        <input required type="text" name="order" id="order">
        <br>
        <label for="name">Name:</label>
        <input type="text" name="name" id="name">
        <br>
        <label for="status">Status:</label>
        <input required type="text" name="status" id="status">
        <br>
        <button type="submit">Add Data</button>
    </form>

    <script>
        document.getElementById('addForm').addEventListener('submit', function(event) {
            event.preventDefault();

            const guide = document.getElementById('guide').value;
            const name = document.getElementById('name').value;
            const status = document.getElementById('status').value;
            const order = parseInt(document.getElementById('order').value);

            fetch('/admin/add-data', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ guide, name, order, status })
            })
            .then(response => {
                if (response.ok) {
                    console.log('Name added successfully to the list');
                    // You can perform any additional actions here after successful addition of data
                } else {
                    console.error('Failed to add name on the list');
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
        });
    </script>
</body>
</html>